<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Noto Serif SC:300,300italic,400,400italic,700,700italic|Source Code Pro:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-big-counter.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"framist.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"default"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Operating System Concepts Exercises 7Deadlocks  操作系统作业 7  7.1, 7.3, 7.10 7.17, 7.18, 7.22, 7.25, 7.26">
<meta property="og:type" content="article">
<meta property="og:title" content="【操作系统概念 - 作业 7】Deadlocks">
<meta property="og:url" content="https://framist.github.io/post/operating-system-concepts-exercise-7.html">
<meta property="og:site_name" content="Framist&#39;s Little House">
<meta property="og:description" content="Operating System Concepts Exercises 7Deadlocks  操作系统作业 7  7.1, 7.3, 7.10 7.17, 7.18, 7.22, 7.25, 7.26">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://framist-bucket-openread.oss-cn-shanghai.aliyuncs.com/img/2023/08/15/20230815203854.jpg">
<meta property="og:image" content="http://framist-bucket-openread.oss-cn-shanghai.aliyuncs.com/img/2023/08/15/20230815203854-1.jpg">
<meta property="og:image" content="http://framist-bucket-openread.oss-cn-shanghai.aliyuncs.com/img/2023/08/15/20230815203854-2.jpg">
<meta property="og:image" content="http://framist-bucket-openread.oss-cn-shanghai.aliyuncs.com/img/2023/08/15/20230815203854-3.jpg">
<meta property="article:published_time" content="2021-10-07T16:00:00.000Z">
<meta property="article:modified_time" content="2023-09-22T07:39:14.448Z">
<meta property="article:author" content="Framist">
<meta property="article:tag" content="学习">
<meta property="article:tag" content="操作系统">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://framist-bucket-openread.oss-cn-shanghai.aliyuncs.com/img/2023/08/15/20230815203854.jpg">

<link rel="canonical" href="https://framist.github.io/post/operating-system-concepts-exercise-7.html">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>【操作系统概念 - 作业 7】Deadlocks | Framist's Little House</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Framist's Little House</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">◇ 自顶而下 - 面向未来 ◇</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-safc">

    <a href="/safc/" rel="section"><i class="fa fa-landmark fa-fw"></i>SAFC</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://framist.github.io/post/operating-system-concepts-exercise-7.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Framist">
      <meta itemprop="description" content="框架主义者的小窝">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Framist's Little House">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          【操作系统概念 - 作业 7】Deadlocks
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-10-08 00:00:00" itemprop="dateCreated datePublished" datetime="2021-10-08T00:00:00+08:00">2021-10-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-09-22 15:39:14" itemprop="dateModified" datetime="2023-09-22T15:39:14+08:00">2023-09-22</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/" itemprop="url" rel="index"><span itemprop="name">计算机科学</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AF%BE%E4%B8%9A%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">课业学习</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AF%BE%E4%B8%9A%E5%AD%A6%E4%B9%A0/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" itemprop="url" rel="index"><span itemprop="name">操作系统</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Operating-System-Concepts-Exercises-7"><a href="#Operating-System-Concepts-Exercises-7" class="headerlink" title="Operating System Concepts Exercises 7"></a><em>Operating System Concepts</em> Exercises 7</h1><center>Deadlocks</center>

<p>操作系统作业 7</p>
<ul>
<li>7.1, 7.3, 7.10</li>
<li>7.17, 7.18, 7.22, 7.25, 7.26</li>
</ul>
<span id="more"></span>

<p><em>每题最后一个引用块是老师提供的参考答案</em></p>
<h2 id="Practice-Exercises"><a href="#Practice-Exercises" class="headerlink" title="Practice Exercises"></a>Practice Exercises</h2><p>7.1, 7.3, 7.10</p>
<h3 id="7-1-List-three-examples-of-deadlocks-that-are-not-related-to-a-computer-system-environment"><a href="#7-1-List-three-examples-of-deadlocks-that-are-not-related-to-a-computer-system-environment" class="headerlink" title="7.1 List three examples of deadlocks that are not related to a computer-system environment"></a>7.1 List three examples of deadlocks that are not related to a computer-system environment</h3><p><strong>答：</strong></p>
<ul>
<li>车让车</li>
<li>人撞人</li>
<li>保险箱里放钥匙</li>
</ul>
<blockquote>
<p><strong>Answer:</strong></p>
<ul>
<li><p>Two cars crossing a single-lane bridge from opposite directions.</p>
</li>
<li><p>A person going down a ladder while another person is climbing up the ladder.</p>
</li>
<li><p>Two trains traveling toward each other on the same track.</p>
</li>
<li><p>两辆汽车从相反方向穿过单车道的桥。</p>
</li>
<li><p>一个人从梯子上下来，而另一个人正在爬上梯子。</p>
</li>
<li><p>两辆火车在同一轨道上向对方行驶。</p>
</li>
</ul>
</blockquote>
<h3 id="7-3-Consider-the-following-snapshot-of-a-system"><a href="#7-3-Consider-the-following-snapshot-of-a-system" class="headerlink" title="7.3 Consider the following snapshot of a system:"></a>7.3 Consider the following snapshot of a system:</h3><p>考虑下面的系统快照：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">        Allocation   Max    Available</span><br><span class="line">        ——————————   ———    —————————</span><br><span class="line">        ABCD        ABCD    ABCD</span><br><span class="line">P0      <span class="number">0012</span>        <span class="number">0012</span>    <span class="number">1520</span></span><br><span class="line">P1      <span class="number">1000</span>        <span class="number">1750</span></span><br><span class="line">P2      <span class="number">1354</span>        <span class="number">2356</span></span><br><span class="line">P3      <span class="number">0632</span>        <span class="number">0652</span></span><br><span class="line">P4      <span class="number">0014</span>        <span class="number">0656</span></span><br></pre></td></tr></table></figure>

<p>Answer the following questions using the banker’s algorithm: </p>
<h4 id="a-What-is-the-content-of-the-matrix-Need"><a href="#a-What-is-the-content-of-the-matrix-Need" class="headerlink" title="a. What is the content of the matrix Need?"></a>a. What is the content of the matrix <em><strong>Need</strong></em>?</h4><p>矩阵<em><strong>Need</strong></em>的内容是什么？</p>
<p><strong>答：</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">        Need</span><br><span class="line">        ————</span><br><span class="line">        ABCD</span><br><span class="line">P0      <span class="number">0000</span></span><br><span class="line">P1      <span class="number">0750</span></span><br><span class="line">P2      <span class="number">1002</span></span><br><span class="line">P3      <span class="number">0020</span></span><br><span class="line">P4      <span class="number">0642</span></span><br></pre></td></tr></table></figure>



<h4 id="b-Is-the-system-in-a-safe-state"><a href="#b-Is-the-system-in-a-safe-state" class="headerlink" title="b. Is the system in a safe state?"></a>b. Is the system in a safe state?</h4><p>系统是否处于安全状态？</p>
<p><strong>答：</strong>是。</p>
<h4 id="c-If-a-request-from-process-P1-arrives-for-0-4-2-0-can-the-request-be-granted-immediately"><a href="#c-If-a-request-from-process-P1-arrives-for-0-4-2-0-can-the-request-be-granted-immediately" class="headerlink" title="c. If a request from process P1 arrives for (0,4,2,0), can the request be granted immediately?"></a>c. If a request from process P1 arrives for (0,4,2,0), can the request be granted immediately?</h4><p>如果进程 P1 的请求到达 (0,4,2,0)，该请求能否立即被批准？</p>
<p><strong>答：</strong>是</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">P0 -&gt; P2 -&gt; P1 -&gt; P3 -&gt; P4 -&gt; </span><br><span class="line">============================================================</span><br><span class="line">进程    	Max     		Allo    		Need</span><br><span class="line">P0      [<span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span>]       [<span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span>]       [<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>]</span><br><span class="line">P1      [<span class="number">1</span> <span class="number">7</span> <span class="number">5</span> <span class="number">0</span>]       [<span class="number">1</span> <span class="number">4</span> <span class="number">2</span> <span class="number">0</span>]       [<span class="number">0</span> <span class="number">3</span> <span class="number">3</span> <span class="number">0</span>]</span><br><span class="line">P2      [<span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">6</span>]       [<span class="number">1</span> <span class="number">3</span> <span class="number">5</span> <span class="number">4</span>]       [<span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2</span>]</span><br><span class="line">P3      [<span class="number">0</span> <span class="number">6</span> <span class="number">5</span> <span class="number">2</span>]       [<span class="number">0</span> <span class="number">6</span> <span class="number">3</span> <span class="number">2</span>]       [<span class="number">0</span> <span class="number">0</span> <span class="number">2</span> <span class="number">0</span>]</span><br><span class="line">P4      [<span class="number">0</span> <span class="number">6</span> <span class="number">5</span> <span class="number">6</span>]       [<span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">4</span>]       [<span class="number">0</span> <span class="number">6</span> <span class="number">4</span> <span class="number">2</span>]</span><br><span class="line">当前剩余资源: [<span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span>]</span><br></pre></td></tr></table></figure>



<blockquote>
<p><strong>Answer:</strong></p>
<p>a. The values of Need for processes P0 through P4 respectively are (0, 0, 0, 0), (0, 7, 5, 0), (1, 0, 0, 2), (0, 0, 2, 0), and (0, 6, 4, 2).</p>
<p>b. The system is in a safe state? Yes. With Available being equal to (1, 5, 2, 0), either process P0 or P3 could run. Once process P3 runs, it releases its resources, which allow all other existing processes to run.</p>
<p>c. The request can be granted immediately? This results in the value of Available being (1, 1, 0, 0). One ordering of processes that can finish is P0, P2, P3, P1, and  P4. So the request can be granted.</p>
<p>a. 过程 P0 到 P4 的需要值分别是（0，0，0，0），（0，7，5，0），（1，0，0，2），（0，0，2，0），和（0，6，4，2）。</p>
<p>b. 系统处于安全状态？是的。由于 Available 等于（1，5，2，0），进程 P0 或 P3 都可以运行。一旦进程 P3 运行，它就会释放其资源，从而使所有其他现有的进程得以运行。</p>
<p>c. 该请求可以立即被批准？这导致 Available 的值为（1，1，0，0）。可以完成的进程的一个排序是 P0, P2, P3, P1, 和 P4。所以该请求可以被批准。</p>
</blockquote>
<h3 id="7-10-Is-it-possible-to-have-a-deadlock-involving-only-one-single-threaded-process-Explain-your-answer"><a href="#7-10-Is-it-possible-to-have-a-deadlock-involving-only-one-single-threaded-process-Explain-your-answer" class="headerlink" title="7.10 Is it possible to have a deadlock involving only one single-threaded process? Explain your answer."></a>7.10 Is it possible to have a deadlock involving only one single-threaded process? Explain your answer.</h3><p>有可能出现只涉及一个单线程进程的死锁吗？解释一下你的答案。</p>
<p><strong>答：</strong>是。如自己请求了自己还未释放的资源。</p>
<blockquote>
<p><strong>Answer:</strong></p>
<p>Yes. If a Process acquires a non-recursive lock twice.</p>
<p><img data-src="http://framist-bucket-openread.oss-cn-shanghai.aliyuncs.com/img/2023/08/15/20230815203854.jpg" alt="img"> </p>
</blockquote>
<h2 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h2><p>7.17, 7.18, 7.22, 7.25, 7.26</p>
<h3 id="7-17-Consider-a-system-consisting-of-four-resources-of-the-same-type-that-are-shared-by-three-processes-each-of-which-needs-at-most-two-resources-Show-that-the-system-is-deadlock-free"><a href="#7-17-Consider-a-system-consisting-of-four-resources-of-the-same-type-that-are-shared-by-three-processes-each-of-which-needs-at-most-two-resources-Show-that-the-system-is-deadlock-free" class="headerlink" title="7.17 Consider a system consisting of four resources of the same type that are shared by three processes, each of which needs at most two resources. Show that the system is deadlock free."></a>7.17 Consider a system consisting of four resources of the same type that are shared by three processes, each of which needs at most two resources. Show that the system is deadlock free.</h3><p>考虑一个由四个相同类型的资源组成的系统，由三个进程共享，每个进程最多需要两个资源。证明该系统是无死锁的。</p>
<p><strong>答：</strong>根据抽屉原理，最差出现以下情况</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">        Allocation   Max    Available</span><br><span class="line">        ——————————   ———    —————————</span><br><span class="line">P0      <span class="number">1</span>            <span class="number">2</span>            <span class="number">1</span></span><br><span class="line">P1      <span class="number">1</span>            <span class="number">2</span></span><br><span class="line">P2      <span class="number">1</span>            <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>这是又有一个进程请求新的一个资源，它在请求结束后总能释放 2 个资源，更不会产生死锁。</p>
<blockquote>
<p><strong>Answer:</strong></p>
<p>Yes, this system is deadlock-free.</p>
<p><em>Proof by contradiction</em>. Suppose the system is deadlocked. This implies that each process is holding one resource and is waiting for one more. Since there are three processes and four resources, one process must be able to obtain two resources. This process requires no more resources and, therefore it will return its resources when done.</p>
<p>是的，这个系统是无死锁的。</p>
<p><em>通过矛盾证明</em>。假设该系统是死锁的。这意味着每个进程持有一个资源，并在等待另一个资源。由于有三个进程和四个资源，一个进程必须能够获得两个资源。这个进程不需要更多的资源，因此，它将在完成后归还其资源。</p>
</blockquote>
<h3 id="7-18-Consider-a-system-consisting-of-m-resources-of-the-same-type-being-shared-by-n-processes-A-process-can-request-or-release-only-one-resource-at-a-time-Show-that-the-system-is-deadlock-free-if-the-following-two-conditions-hold"><a href="#7-18-Consider-a-system-consisting-of-m-resources-of-the-same-type-being-shared-by-n-processes-A-process-can-request-or-release-only-one-resource-at-a-time-Show-that-the-system-is-deadlock-free-if-the-following-two-conditions-hold" class="headerlink" title="7.18 Consider a system consisting of $m$ resources of the same type being shared by $n$ processes. A process can request or release only one resource at a time. Show that the system is deadlock free if the following two conditions hold:"></a>7.18 Consider a system consisting of $m$ resources of the same type being shared by $n$ processes. A process can request or release only one resource at a time. Show that the system is deadlock free if the following two conditions hold:</h3><p>考虑一个由 n 个进程共享的相同类型的$m$资源组成的系统。一个进程一次只能请求或释放一个资源。说明如果以下两个条件成立，该系统是无死锁的。</p>
<h4 id="a-The-maximum-need-of-each-process-is-between-one-resource-and-m-resources"><a href="#a-The-maximum-need-of-each-process-is-between-one-resource-and-m-resources" class="headerlink" title="a. The maximum need of each process is between one resource and $m$ resources."></a>a. The maximum need of each process is between one resource and $m$ resources.</h4><p>每个进程的最大需求是在一个资源和$m$个资源之间。</p>
<h4 id="b-The-sum-of-all-maximum-needs-is-less-than-m-n"><a href="#b-The-sum-of-all-maximum-needs-is-less-than-m-n" class="headerlink" title="b. The sum of all maximum needs is less than $m+n$."></a>b. The sum of all maximum needs is less than $m+n$.</h4><p>所有最大需求的总和小于$m+n$。</p>
<p><strong>答：</strong>根据抽屉原理，最差出现以下情况</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">        Allocation   Max       Available</span><br><span class="line">        ——————————   ———       —————————</span><br><span class="line">P0      m/n(<span class="number">-1</span>)      m/n+<span class="number">1</span>(<span class="number">-1</span>)     <span class="number">1</span></span><br><span class="line">P1      m/n          m/n+<span class="number">1</span></span><br><span class="line">..</span><br><span class="line">Pn      m/n          m/n+<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>可以预见，这时向 P0 分配一个资源可解决问题。</p>
<blockquote>
<p><strong>Answer:</strong></p>
<p>Suppose N &#x3D; Sum of all Need(i), A &#x3D; Sum of all Allocation(i), M &#x3D; Sum of all Max(i). </p>
<p>Use contradiction to prove.</p>
<p>Assume this system is not deadlock free. If there exists a deadlock state, then <strong>A &#x3D; m</strong> because there’s only one kind of resource and resources can be requested and released only one at a time. </p>
<p>From condition b, N + A &#x3D; M &lt; m + n. So we get N + m &lt; m + n. So we get N &lt; n. It shows that at least one process i that Need(i) &#x3D; 0. (contradict with necessary condition of deadlock)</p>
<p>From condition a, Pi can release at least 1 resource. </p>
<p>So there are n-1 processes sharing m resources now, condition a and b still hold. Go on the argument, no process will wait permanently, so there’s no deadlock.</p>
<p>假设 N&#x3D;所有 Need(i) 之和，A&#x3D;所有 Allocation(i) 之和，M&#x3D;所有 Max(i) 之和。</p>
<p>用矛盾法来证明。</p>
<p>假设这个系统不是无死锁的。如果存在死锁状态，那么<strong>A&#x3D;m</strong>，因为只有一种资源，而且资源一次只能请求和释放一个。</p>
<p>从条件 b 来看，N + A &#x3D; M &lt; m + n. 所以我们得到 N + m &lt; m + n. 所以我们得到 N &lt; n. 这表明至少有一个进程 i，Need(i) &#x3D; 0. (与死锁的必要条件相矛盾)</p>
<p>从条件 a 来看，Pi 至少可以释放 1 个资源。</p>
<p>所以现在有 n-1 个进程共享 m 个资源，条件 a 和 b 仍然成立。继续论证，没有进程会永久等待，所以不存在死锁。</p>
</blockquote>
<h3 id="7-22-Consider-the-following-snapshot-of-a-system"><a href="#7-22-Consider-the-following-snapshot-of-a-system" class="headerlink" title="7.22 Consider the following snapshot of a system:"></a>7.22 Consider the following snapshot of a system:</h3><p>Using the banker’s algorithm, determine whether or not each of the following states is unsafe. If the state is safe, illustrate the order in which the processes may complete. Otherwise, illustrate why the state is unsafe. </p>
<p>使用银行家算法，确定以下每个状态是否不安全。如果该状态是安全的，说明这些过程可能完成的顺序。否则，说明为什么该状态是不安全的。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">	    Allocation 	 Max</span><br><span class="line">        ——————————   ———</span><br><span class="line">	    ABCD 		ABCD</span><br><span class="line">P0 	    <span class="number">3014</span> 		<span class="number">5117</span></span><br><span class="line">P1 	    <span class="number">2210</span> 		<span class="number">3211</span></span><br><span class="line">P2 	    <span class="number">3121</span> 		<span class="number">3321</span></span><br><span class="line">P3 	    <span class="number">0510</span> 		<span class="number">4612</span></span><br><span class="line">P4 	    <span class="number">4212</span> 		<span class="number">6325</span></span><br></pre></td></tr></table></figure>



<h4 id="a-Available-x3D-0-3-0-1"><a href="#a-Available-x3D-0-3-0-1" class="headerlink" title="a. Available &#x3D; (0, 3, 0, 1)"></a>a. <em><strong>Available</strong></em> &#x3D; (0, 3, 0, 1)</h4><h4 id="b-Available-x3D-1-0-0-2"><a href="#b-Available-x3D-1-0-0-2" class="headerlink" title="b. Available &#x3D; (1, 0, 0, 2)"></a>b. <em><strong>Available</strong></em> &#x3D; (1, 0, 0, 2)</h4><blockquote>
<p><strong>Answer:</strong></p>
<p>a. Not safe. Processes <em>P</em>2, <em>P</em>1, and <em>P</em>3 are able to finish, but no remaining processes can finish. </p>
<p>b. Safe. Processes <em>P</em>1, <em>P</em>2, and <em>P</em>3 are able to finish. Following this, processes <em>P</em>0 and <em>P</em>4 are also able to finish. </p>
</blockquote>
<h3 id="7-25"><a href="#7-25" class="headerlink" title="7.25"></a>7.25</h3><p>A single-lane bridge connects the two Vermont villages of North Tunbridge and South Tunbridge. Farmers in the two villages use this bridge to deliver their produce to the neighboring town. The bridge can become deadlocked if a northbound and a southbound farmer get on the bridge at the same time. (Vermont farmers are stubborn and are unable to back up.) Using semaphores and&#x2F;or mutex locks, design an algorithm in pseudocode that prevents deadlock. Initially, do not be concerned about starvation (the situation in which northbound farmers prevent southbound farmers from using the bridge, or vice versa).</p>
<p>一座单车道的桥梁连接着佛蒙特州的两个村庄北屯桥和南屯桥。这两个村庄的农民利用这座桥将他们的产品运送到邻近的城镇。如果一个北行的农民和一个南行的农民同时上桥，这座桥就会陷入僵局。(佛蒙特州的农民很顽固，无法退让。) 使用信号量和&#x2F;或互斥锁，用伪代码设计一个算法，以防止死锁。最初，不要担心饥饿问题（北行农民阻止南行农民使用桥梁的情况，反之亦然）。</p>
<p>使用信号量实现：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> 农民上桥()&#123;</span><br><span class="line">    wait(桥);</span><br><span class="line">    上桥();</span><br><span class="line">    下桥();</span><br><span class="line">    singal(桥)</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<blockquote>
<p><strong>Answer:</strong></p>
<p><img data-src="http://framist-bucket-openread.oss-cn-shanghai.aliyuncs.com/img/2023/08/15/20230815203854-1.jpg" alt="img"></p>
</blockquote>
<h3 id="7-26-Modify-your-solution-to-Exercise-7-25-so-that-it-is-starvation-free"><a href="#7-26-Modify-your-solution-to-Exercise-7-25-so-that-it-is-starvation-free" class="headerlink" title="7.26 Modify your solution to Exercise 7.25 so that it is starvation-free."></a>7.26 Modify your solution to Exercise 7.25 so that it is starvation-free.</h3><p>修改你对练习 7.25 的解答，使其没有饥饿。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">FIFO 等待队列[];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> 农民上桥()&#123;</span><br><span class="line">    进入(等待队列);</span><br><span class="line">    <span class="keyword">while</span>(查询是否下一个出(等待队列))==<span class="literal">false</span>)</span><br><span class="line">        ;</span><br><span class="line">    wait(桥);</span><br><span class="line">    上桥();</span><br><span class="line">    下桥();</span><br><span class="line">    singal(桥);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p><strong>Answer:</strong></p>
<p><img data-src="http://framist-bucket-openread.oss-cn-shanghai.aliyuncs.com/img/2023/08/15/20230815203854-2.jpg" alt="img"></p>
<p><img data-src="http://framist-bucket-openread.oss-cn-shanghai.aliyuncs.com/img/2023/08/15/20230815203854-3.jpg" alt="img"></p>
</blockquote>
<hr>
<p><strong>注：</strong></p>
<p>参考资料：</p>
<p>[1] <a target="_blank" rel="noopener" href="https://blog.csdn.net/jaykm/article/details/106379447">银行家算法的 Python 代码实现 - 操作系统_Xerrors-CSDN 博客</a></p>
<p>稍作修改如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">security</span>(<span class="params">work, need, allocation</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;安全性算法&quot;&quot;&quot;</span></span><br><span class="line">    n = need.shape[<span class="number">0</span>]</span><br><span class="line">    finish = np.array([<span class="literal">False</span>] * n, dtype=<span class="built_in">bool</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span>(finish.<span class="built_in">all</span>()):</span><br><span class="line">        flag = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> finish[i] <span class="keyword">and</span> (need[i] &lt;= work).<span class="built_in">all</span>():</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;P&#123;&#125;&quot;</span>.<span class="built_in">format</span>(i), end=<span class="string">&#x27; -&gt; &#x27;</span>)</span><br><span class="line">                flag = <span class="literal">True</span></span><br><span class="line">                work += allocation[i]</span><br><span class="line">                finish[i] = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> flag:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;安全&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printTable</span>(<span class="params">available, max_table, allocation, need</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;输出表格&quot;&quot;&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;==&quot;</span>*<span class="number">30</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;进程\tMax\tAllo\tNeed&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;P&#123;&#125;\t&#123;&#125;\t&#123;&#125;\t&#123;&#125;&quot;</span>.<span class="built_in">format</span>(</span><br><span class="line">            i, max_table[i], allocation[i], need[i]))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;当前剩余资源：&quot;</span>, available)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">loadTestData</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;导入测试数据&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># available, max_table, allocation</span></span><br><span class="line">    <span class="keyword">return</span> (np.array([<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>], dtype=<span class="built_in">int</span>),</span><br><span class="line">        np.array([[<span class="number">5</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">7</span>],</span><br><span class="line">                  [<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>],</span><br><span class="line">                  [<span class="number">3</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>],</span><br><span class="line">                  [<span class="number">4</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">2</span>],</span><br><span class="line">                  [<span class="number">6</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">5</span>]], dtype=<span class="built_in">int</span>),</span><br><span class="line">        np.array([[<span class="number">3</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">4</span>],</span><br><span class="line">                  [<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>],</span><br><span class="line">                  [<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>],</span><br><span class="line">                  [<span class="number">0</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">0</span>],</span><br><span class="line">                  [<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>]], dtype=<span class="built_in">int</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;主循环算法&quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># 导入测试数据，不用一次次手动输入</span></span><br><span class="line">    available, max_table, allocation = loadTestData()</span><br><span class="line">    need = max_table - allocation</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 不用计算出剩余资源</span></span><br><span class="line">    <span class="comment"># for i in allocation:</span></span><br><span class="line">    <span class="comment">#     available -= i</span></span><br><span class="line"></span><br><span class="line">    printTable(available, max_table, allocation, need)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (need != <span class="number">0</span>).<span class="built_in">any</span>():</span><br><span class="line">        proc_ind, req = <span class="built_in">input</span>(<span class="string">&quot;输入请求，如：P1, 1 0 1: &quot;</span>).split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">        proc_ind = <span class="built_in">int</span>(proc_ind[<span class="number">1</span>:])</span><br><span class="line">        req = np.array(req.split(), dtype=<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 判断合法性</span></span><br><span class="line">        <span class="keyword">if</span> (req &gt; max_table[proc_ind]).<span class="built_in">any</span>():</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;[ERROR] 输入有误，重新输入&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 判断安全性</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            available -= req</span><br><span class="line">            allocation[proc_ind] += req</span><br><span class="line">            need[proc_ind] -= req</span><br><span class="line">            <span class="keyword">if</span> security(available.copy(), need, allocation):</span><br><span class="line">                printTable(available, max_table, allocation, need)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;[ERROR] 不安全，不能分配&quot;</span>)</span><br><span class="line">                available += req</span><br><span class="line">                allocation[proc_ind] -= req</span><br><span class="line">                need[proc_ind] += req</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>[2] Operating System Concepts – 9th Edition 及其答案</p>

    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      <div style="display: inline-block;">
        <img src="/images/dogecoin.png" alt="Framist dogecoin">
        <p>dogecoin</p>
      </div>

  </div>
</div>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>Framist
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://framist.github.io/post/operating-system-concepts-exercise-7.html" title="【操作系统概念 - 作业 7】Deadlocks">https://framist.github.io/post/operating-system-concepts-exercise-7.html</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag"># 学习</a>
              <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" rel="tag"># 操作系统</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/post/operating-system-concepts-exercise-1.html" rel="prev" title="【操作系统概念 - 作业 1】Introduction">
      <i class="fa fa-chevron-left"></i> 【操作系统概念 - 作业 1】Introduction
    </a></div>
      <div class="post-nav-item">
    <a href="/post/operating-system-concepts-exercise-3.html" rel="next" title="【操作系统概念 - 作业 3】Operating-System Structures">
      【操作系统概念 - 作业 3】Operating-System Structures <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Operating-System-Concepts-Exercises-7"><span class="nav-number">1.</span> <span class="nav-text">Operating System Concepts Exercises 7</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Practice-Exercises"><span class="nav-number">1.1.</span> <span class="nav-text">Practice Exercises</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-List-three-examples-of-deadlocks-that-are-not-related-to-a-computer-system-environment"><span class="nav-number">1.1.1.</span> <span class="nav-text">7.1 List three examples of deadlocks that are not related to a computer-system environment</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-Consider-the-following-snapshot-of-a-system"><span class="nav-number">1.1.2.</span> <span class="nav-text">7.3 Consider the following snapshot of a system:</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-What-is-the-content-of-the-matrix-Need"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">a. What is the content of the matrix Need?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-Is-the-system-in-a-safe-state"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">b. Is the system in a safe state?</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c-If-a-request-from-process-P1-arrives-for-0-4-2-0-can-the-request-be-granted-immediately"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">c. If a request from process P1 arrives for (0,4,2,0), can the request be granted immediately?</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-10-Is-it-possible-to-have-a-deadlock-involving-only-one-single-threaded-process-Explain-your-answer"><span class="nav-number">1.1.3.</span> <span class="nav-text">7.10 Is it possible to have a deadlock involving only one single-threaded process? Explain your answer.</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Exercises"><span class="nav-number">1.2.</span> <span class="nav-text">Exercises</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-17-Consider-a-system-consisting-of-four-resources-of-the-same-type-that-are-shared-by-three-processes-each-of-which-needs-at-most-two-resources-Show-that-the-system-is-deadlock-free"><span class="nav-number">1.2.1.</span> <span class="nav-text">7.17 Consider a system consisting of four resources of the same type that are shared by three processes, each of which needs at most two resources. Show that the system is deadlock free.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-18-Consider-a-system-consisting-of-m-resources-of-the-same-type-being-shared-by-n-processes-A-process-can-request-or-release-only-one-resource-at-a-time-Show-that-the-system-is-deadlock-free-if-the-following-two-conditions-hold"><span class="nav-number">1.2.2.</span> <span class="nav-text">7.18 Consider a system consisting of $m$ resources of the same type being shared by $n$ processes. A process can request or release only one resource at a time. Show that the system is deadlock free if the following two conditions hold:</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-The-maximum-need-of-each-process-is-between-one-resource-and-m-resources"><span class="nav-number">1.2.2.1.</span> <span class="nav-text">a. The maximum need of each process is between one resource and $m$ resources.</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-The-sum-of-all-maximum-needs-is-less-than-m-n"><span class="nav-number">1.2.2.2.</span> <span class="nav-text">b. The sum of all maximum needs is less than $m+n$.</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-22-Consider-the-following-snapshot-of-a-system"><span class="nav-number">1.2.3.</span> <span class="nav-text">7.22 Consider the following snapshot of a system:</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#a-Available-x3D-0-3-0-1"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">a. Available &#x3D; (0, 3, 0, 1)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#b-Available-x3D-1-0-0-2"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">b. Available &#x3D; (1, 0, 0, 2)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-25"><span class="nav-number">1.2.4.</span> <span class="nav-text">7.25</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-26-Modify-your-solution-to-Exercise-7-25-so-that-it-is-starvation-free"><span class="nav-number">1.2.5.</span> <span class="nav-text">7.26 Modify your solution to Exercise 7.25 so that it is starvation-free.</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Framist</p>
  <div class="site-description" itemprop="description">框架主义者的小窝</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">76</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">28</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">53</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/framist" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;framist" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:framist@163.com" title="E-Mail → mailto:framist@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/weixin_47102975" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;weixin_47102975" rel="noopener" target="_blank"><i class="fas fa-angle-right fa-fw"></i>CSDN</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/kuang-jia-zhu-yi-zhe" title="知乎 → https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;kuang-jia-zhu-yi-zhe" rel="noopener" target="_blank"><i class="fas fa-angle-right fa-fw"></i>知乎</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://framist.top/" title="http:&#x2F;&#x2F;framist.top&#x2F;" rel="noopener" target="_blank">个人主页</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://craft.framist.top/" title="https:&#x2F;&#x2F;craft.framist.top&#x2F;" rel="noopener" target="_blank">框架科工</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://framist.github.io/2020/10/11/%E6%88%91%E8%BA%AB%E8%BE%B9%E7%9A%84CS%E5%A4%A7%E4%BD%AC%E4%BB%AC/" title="https:&#x2F;&#x2F;framist.github.io&#x2F;2020&#x2F;10&#x2F;11&#x2F;%E6%88%91%E8%BA%AB%E8%BE%B9%E7%9A%84CS%E5%A4%A7%E4%BD%AC%E4%BB%AC&#x2F;">我身边的大佬们</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://yuexiavqiufeng.github.io/" title="https:&#x2F;&#x2F;yuexiavqiufeng.github.io&#x2F;" rel="noopener" target="_blank">yuexiavqiufeng</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">浙 ICP 备 2022002862 号 -1 </a>
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-at"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Framist</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div><script>
    let body = document.getElementsByTagName('body')[0];
    body.addEventListener('click', (e) => {
        let contentArr = ['欧拉~','ˋ( ° ▽、° ) ','RGB!','_(:з」∠)_','哼','?','¿框架?','QAQ',':3','<3','疯掉了',
                            'whoami',
                            'whoareU',
                            'NULL',
                            'None',
                            ' ',
                            '代价是什么呢？',
                            '...',
                            'Big Brother is Watching You',
                            '喵~', '嗷~', '呜~', '哞~', '咩~', '咕~', '嘎~', '嘤~',
                            '你看到了。',
                            '¿爱情障眼法?','¿物种认同障碍?',
                            '微润欧美，小润终南山，中润润与市，大润中南海',
                            'init param:<br/>1LTKvNaux7CjrNHJ09C0y87Eo7/Rrbu3zfm4tKOsus7Ksbb41rmjv9a5zqrWucv51rmjrLTLzsTT1rrOtOajvw==',
                            '这里没有时间的意义',
                            '嘿嘿嘿，好想被随机异或哦，<br/>嘿嘿嘿，嘿嘿嘿，异或我的异或',
                            '记忆赋予时间的意义，而不是时间赋予记忆的意义',
                            '放弃 P ∨ ¬P 吧！',
                            '抽象是普适性的代价 —— 3b1b',
                            '得易见平凡，仿照上例显然',
                            '留作习题答案略，读者自证不难',
                            '反之亦然同理，推论自然成立',
                            '略去过程 Q . E . D ，由上可知证毕'];
        let randomNum = function (n) {
            return Math.floor(Math.random() * n)
        }
        let span = document.createElement('span');
        span.innerHTML = `${contentArr[randomNum(contentArr.length)]}`;
        span.style.color = `rgb(${randomNum(256)},${randomNum(256)},${randomNum(256)})`;
        span.style.position = 'absolute';
        span.style.top = `${e.pageY}px`;
        span.style.left = `${e.pageX}px`;
        span.style.transition = 'all 1s ease';
        span.style.zIndex = 20000;
        body.appendChild(span)
        setTimeout(()=>{
            span.style.top = span.offsetTop - 25 + 'px';
            span.style.opacity = 0;
            setTimeout(()=>{span.remove()},1000)
        },700)
    })
</script>


<div style="width: 100px; height: 100px; margin: 0 auto;">
<script type="text/javascript" id="clstr_globe" src="//clustrmaps.com/globe.js?d=gRWtX21uVt_tIdj_T64nMvo4FK1UrTWME23CVLOzNCg"></script>
</div>
<!--
<script type="text/javascript" 
color="255,255,255" 
pointColor='64,184,209' 
opacity='1' 
zIndex="-1" 
count="233" 
src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js">
</script>
-->


        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  
  <script data-pjax>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>















    <div id="pjax">
  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
          load: ['[tex]/mhchem'],
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
          packages: {'[+]': ['mhchem']},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '267a9d4a89b9b72b2229',
      clientSecret: '2dba1f14d21da707ed6c4497fecc05d6178b4fa3',
      repo        : 'blog-comment',
      owner       : 'framist',
      admin       : ['framist'],
      id          : '4565dd2c4578761f5a68ff43111af923',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

    </div>
</body>
</html>
